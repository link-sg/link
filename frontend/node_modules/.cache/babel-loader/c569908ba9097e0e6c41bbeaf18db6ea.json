{"ast":null,"code":"var _jsxFileName = \"/Users/user/link-project/link/frontend/src/screens/ListingDetails.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../components/Main/Header\";\nimport \"../constants/styles/Bootstrap.css\";\nimport \"./styles/ListingDetails.css\";\nimport Headernew from \"../components/Main/headernew\";\nimport { BsChatFill, BsHeartFill } from \"react-icons/bs\";\nimport { useAPI } from \"../utils/useAPI\";\n\nconst ListingDetails = props => {\n  const listingID = props.location.search.substring(1);\n  const [sendRequest, isLoading] = useAPI(); // listingToDisplay = Main listing\n\n  const [listingToDisplay, setListingToDisplay] = useState(); // similarListings = An array of max 3 listings on the same platform as main listing\n\n  const [similarListings, setSimilarListings] = useState();\n  useEffect(() => {\n    const getListing = async () => {\n      const responseData = await sendRequest(`/api/listing/id/${listingID}`);\n      setListingToDisplay(responseData.listingToDisplay);\n      setSimilarListings(responseData.similarListings);\n    };\n\n    getListing();\n  }, [listingID]);\n  const [liked, setliked] = useState(false);\n\n  function likehandler() {\n    setliked(!liked);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), !isLoading && listingToDisplay && similarListings && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"headerdiv\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    id: \"listingtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, listingToDisplay.title), /*#__PURE__*/React.createElement(\"h3\", {\n    id: \"platform\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"For the \", listingToDisplay.platform)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container col-3 float-left text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"listingimage\",\n    src: listingToDisplay.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container col-6 details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"detailsi\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"owner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 15\n    }\n  }, \"Owned by: \", listingToDisplay.owner), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: likehandler,\n    className: liked ? \"btn-liked\" : \"btn-like\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(BsHeartFill, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }\n  }, \" \"), \"Like!\")), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn-cop\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(BsChatFill, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  }, \" \"), \"Make an Offer!\"))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Listed on: \", listingToDisplay.dateListed), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, listingToDisplay.description)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container col-3 float-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Other Listings\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  })), similarListings.length === 0 ? null : similarListings.map(listing => /*#__PURE__*/React.createElement(\"div\", {\n    id: \"recommendationimg\",\n    key: listing.listingId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container col-3 float-left recommendationimgextend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: `/listing/${listing.title}`,\n      search: `${listing.listingId}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"imgsuggested\",\n    src: listing.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 23\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: `/listing/${listing.title}`,\n      search: `${listing.listingId}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"recommendationtitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }\n  }, listing.title)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, \"Owned by \", /*#__PURE__*/React.createElement(\"strong\", {\n    id: \"owner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 32\n    }\n  }, listing.owner)))))));\n};\n\nexport default ListingDetails;","map":{"version":3,"sources":["/Users/user/link-project/link/frontend/src/screens/ListingDetails.js"],"names":["React","useState","useEffect","Link","Header","Headernew","BsChatFill","BsHeartFill","useAPI","ListingDetails","props","listingID","location","search","substring","sendRequest","isLoading","listingToDisplay","setListingToDisplay","similarListings","setSimilarListings","getListing","responseData","liked","setliked","likehandler","title","platform","image","owner","dateListed","description","length","map","listing","listingId","pathname"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../components/Main/Header\";\nimport \"../constants/styles/Bootstrap.css\";\nimport \"./styles/ListingDetails.css\";\nimport Headernew from \"../components/Main/headernew\";\nimport { BsChatFill, BsHeartFill } from \"react-icons/bs\";\nimport { useAPI } from \"../utils/useAPI\";\n\nconst ListingDetails = (props) => {\n  const listingID = props.location.search.substring(1);\n  const [sendRequest, isLoading] = useAPI();\n\n  // listingToDisplay = Main listing\n  const [listingToDisplay, setListingToDisplay] = useState();\n  // similarListings = An array of max 3 listings on the same platform as main listing\n  const [similarListings, setSimilarListings] = useState();\n\n  useEffect(() => {\n    const getListing = async () => {\n      const responseData = await sendRequest(`/api/listing/id/${listingID}`);\n      setListingToDisplay(responseData.listingToDisplay);\n      setSimilarListings(responseData.similarListings);\n    };\n\n    getListing();\n  }, [listingID]);\n\n  const [liked, setliked] = useState(false);\n\n  function likehandler() {\n    setliked(!liked);\n  }\n\n  return (\n    <div>\n      <Header />\n      {!isLoading && listingToDisplay && similarListings && (\n        <div>\n          <div id=\"headerdiv\">\n            <h2 id=\"listingtitle\">{listingToDisplay.title}</h2>\n            <h3 id=\"platform\">For the {listingToDisplay.platform}</h3>\n          </div>\n          <div className=\"container col-3 float-left text-center\">\n            <img id=\"listingimage\" src={listingToDisplay.image} />\n          </div>\n          <div className=\"container col-6 details\">\n            <p className=\"detailsi\">\n              <span className=\"owner\">Owned by: {listingToDisplay.owner}</span>\n              <span>\n                <button\n                  onClick={likehandler}\n                  className={liked ? \"btn-liked\" : \"btn-like\"}\n                >\n                  <BsHeartFill />\n                  <span> </span>Like!\n                </button>\n              </span>\n              <span>\n                <button className=\"btn-cop\">\n                  <BsChatFill />\n                  <span> </span>Make an Offer!\n                </button>\n              </span>\n            </p>\n            <hr></hr>\n            <p>Listed on: {listingToDisplay.dateListed}</p>\n            <p>{listingToDisplay.description}</p>\n          </div>\n          <div className=\"container col-3 float-right\">\n            <h2>Other Listings</h2>\n            <hr></hr>\n          </div>\n          {similarListings.length === 0\n            ? null\n            : similarListings.map((listing) => (\n                <div id=\"recommendationimg\" key={listing.listingId}>\n                  <div className=\"container col-3 float-left recommendationimgextend\">\n                    <Link\n                      to={{\n                        pathname: `/listing/${listing.title}`,\n                        search: `${listing.listingId}`,\n                      }}\n                    >\n                      <img className=\"imgsuggested\" src={listing.image} />\n                    </Link>\n                  </div>\n                  <div>\n                    <Link\n                      to={{\n                        pathname: `/listing/${listing.title}`,\n                        search: `${listing.listingId}`,\n                      }}\n                    >\n                      <h4 className=\"recommendationtitle\">{listing.title}</h4>\n                    </Link>\n                    <p>\n                      Owned by <strong id=\"owner\">{listing.owner}</strong>\n                    </p>\n                  </div>\n                </div>\n              ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ListingDetails;\n"]},"metadata":{},"sourceType":"module"}