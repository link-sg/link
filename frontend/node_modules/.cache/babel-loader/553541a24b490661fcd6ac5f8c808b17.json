{"ast":null,"code":"var _jsxFileName = \"/Users/user/link-project/link/frontend/src/screens/SearchResult.js\";\nimport React, { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Header from \"../components/Main/Header\";\nimport SearchListing from '../components/SearchResults/SearchListing';\nimport NoMatches from \"../components/SearchResults/NoMatches\";\nimport Error404 from './Error404';\nimport \"./SearchResult.css\";\nimport Headernew from \"../components/Main/headernew\";\n\nconst SearchResult = props => {\n  useEffect(() => {\n    let query = props.location.search;\n    let searchphrase = query.substring(8); // searchphrase = what the user typed\n\n    searchphrase = searchphrase.toLowerCase().replace(/(<([^>]+)>)/ig, \"\"); // retrieve listings from database \n\n    const retrieveListings = async () => {\n      try {\n        let retrievedListings = await fetch(\"http://localhost:5000/api/search/keyword\", {\n          method: \"GET\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          }\n        }).listingsToDisplay;\n      } catch (err) {\n        console.log(err);\n      }\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchResultsPageBody\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, retrievedListings.length === 0 ? /*#__PURE__*/React.createElement(NoMatches, {\n    searchphrase: searchphrase,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }) : retrievedListings.map(listing => /*#__PURE__*/React.createElement(Link, {\n    to: {\n      pathname: \"/listing\",\n      search: `id=${listing.title}`,\n      listing: listing\n    },\n    key: listing.listingId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SearchListing, {\n    listing: listing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  })))));\n};\n\nexport default SearchResult;","map":{"version":3,"sources":["/Users/user/link-project/link/frontend/src/screens/SearchResult.js"],"names":["React","useEffect","Link","Header","SearchListing","NoMatches","Error404","Headernew","SearchResult","props","query","location","search","searchphrase","substring","toLowerCase","replace","retrieveListings","retrievedListings","fetch","method","headers","listingsToDisplay","err","console","log","width","length","map","listing","pathname","title","listingId"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;AACA,OAAOC,aAAP,MAA0B,2CAA1B;AACA,OAAOC,SAAP,MAAsB,uCAAtB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAO,oBAAP;AACA,OAAOC,SAAP,MAAsB,8BAAtB;;AAEA,MAAMC,YAAY,GAAGC,KAAK,IAAI;AAE5BR,EAAAA,SAAS,CAAC,MAAI;AAEZ,QAAIS,KAAK,GAAGD,KAAK,CAACE,QAAN,CAAeC,MAA3B;AAEA,QAAIC,YAAY,GAAGH,KAAK,CAACI,SAAN,CAAgB,CAAhB,CAAnB,CAJY,CAKZ;;AACAD,IAAAA,YAAY,GAAGA,YAAY,CAACE,WAAb,GAA2BC,OAA3B,CAAmC,eAAnC,EAAmD,EAAnD,CAAf,CANY,CAQZ;;AACA,UAAMC,gBAAgB,GAAG,YAAW;AAClC,UAAG;AACD,YAAIC,iBAAiB,GAAG,MAAMC,KAAK,CAAC,0CAAD,EACjC;AAACC,UAAAA,MAAM,EAAE,KAAT;AAAgBC,UAAAA,OAAO,EAAE;AAAC,4BAAe;AAAhB;AAAzB,SADiC,CAAL,CACmCC,iBADjE;AAED,OAHD,CAGE,OAAMC,GAAN,EAAU;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD;AACF,KAPD;AASD,GAlBQ,EAkBP,EAlBO,CAAT;AAsBE,sBACE;AAAK,IAAA,KAAK,EAAG;AAACG,MAAAA,KAAK,EAAC;AAAP,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAK,IAAA,SAAS,EAAG,uBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIR,iBAAiB,CAACS,MAAlB,KAA2B,CAA5B,gBACD,oBAAC,SAAD;AAAW,IAAA,YAAY,EAAEd,YAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADC,GAEAK,iBAAiB,CAACU,GAAlB,CAAsBC,OAAO,iBAC5B,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG;AACTC,MAAAA,QAAQ,EAAC,UADA;AAETlB,MAAAA,MAAM,EAAE,MAAKiB,OAAO,CAACE,KAAM,EAFlB;AAGTF,MAAAA,OAAO,EAACA;AAHC,KAAX;AAGoB,IAAA,GAAG,EAAGA,OAAO,CAACG,SAHlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAKI,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAEH,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CADD,CAHH,CAFF,CADF;AA2BH,CAnDD;;AAqDA,eAAerB,YAAf","sourcesContent":["import React,{useEffect} from \"react\";\nimport {Link} from \"react-router-dom\";\nimport Header from \"../components/Main/Header\";\nimport SearchListing from '../components/SearchResults/SearchListing';\nimport NoMatches from \"../components/SearchResults/NoMatches\";\nimport Error404 from './Error404';\nimport \"./SearchResult.css\"\nimport Headernew from \"../components/Main/headernew\"\n\nconst SearchResult = props => {\n\n  useEffect(()=>{\n\n    let query = props.location.search;\n\n    let searchphrase = query.substring(8);\n    // searchphrase = what the user typed\n    searchphrase = searchphrase.toLowerCase().replace(/(<([^>]+)>)/ig,\"\")\n\n    // retrieve listings from database \n    const retrieveListings = async () =>{\n      try{\n        let retrievedListings = await fetch(\"http://localhost:5000/api/search/keyword\", \n          {method: \"GET\", headers: {\"Content-Type\":\"application/json\"}}).listingsToDisplay;\n      } catch(err){\n        console.log(err);\n      }\n    }\n\n  },[]);\n\n  \n\n    return (\n      <div style= {{width:\"100%\"}} >\n        <Header />\n        <div className = \"searchResultsPageBody\">\n          {(retrievedListings.length===0)?\n          <NoMatches searchphrase={searchphrase}/>\n          :retrievedListings.map(listing => (\n            <Link to= {{\n              pathname:\"/listing\",\n              search:`id=${listing.title}`,\n              listing:listing}} key= {listing.listingId}>\n                { /*url = /listing/id?=(title of listing) */}\n                <SearchListing listing={listing} />\n            </Link>\n          )\n           \n          )}\n          {/* Todo: Add this section when backend is included (Alot easier with backend)\n          <hr />\n          <p style={{margin:\"20px\"}}>Check out some of our other listings on the same platform</p>\n          Call some API here\n          */}\n          \n        </div>\n      </div>\n    );\n  \n};\n\nexport default SearchResult;\n"]},"metadata":{},"sourceType":"module"}